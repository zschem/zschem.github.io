{% include base_path %}

<!-- start custom head snippets -->

<!-- favicon from https://commons.wikimedia.org/wiki/File:OOjs_UI_icon_academic-progressive.svg -->
<link
  rel="apple-touch-icon"
  sizes="180x180"
  href="{{ base_path }}/images/apple-touch-icon-180x180.png"
/>
<link
  rel="icon"
  type="image/svg+xml"
  href="{{ base_path }}/images/favicon.svg"
/>
<link
  rel="icon"
  type="image/png"
  href="{{ base_path }}/images/favicon-32x32.png"
  sizes="32x32"
/>
<link
  rel="icon"
  type="image/png"
  href="{{ base_path }}/images/favicon-192x192.png"
  sizes="192x192"
/>
<link rel="manifest" href="{{ base_path }}/images/manifest.json" />
<link rel="icon" href="/images/favicon.ico" />
<meta name="theme-color" content="#ffffff" />
<link rel="stylesheet" href="{{ base_path }}/assets/css/academicons.css" />

<!-- Support for MatJax -->
<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const toggle = document.querySelector('.theme-toggle');
  const lightTheme = document.getElementById('theme_source');
  const darkTheme = document.getElementById('theme_source_2');
  const storedTheme = sessionStorage.getItem('theme');

  if (storedTheme === 'dark') {
    lightTheme.setAttribute('rel', 'stylesheet alternate');
    darkTheme.setAttribute('rel', 'stylesheet');
  } else {
    lightTheme.setAttribute('rel', 'stylesheet');
    darkTheme.setAttribute('rel', 'stylesheet alternate');
  }

  toggle.addEventListener('click', function() {
    if (lightTheme.getAttribute('rel') === 'stylesheet') {
      lightTheme.setAttribute('rel', 'stylesheet alternate');
      darkTheme.setAttribute('rel', 'stylesheet');
      sessionStorage.setItem('theme', 'dark');
    } else {
      lightTheme.setAttribute('rel', 'stylesheet');
      darkTheme.setAttribute('rel', 'stylesheet alternate');
      sessionStorage.setItem('theme', 'light');
    }
  });
});
</script>

<!-- end custom head snippets -->
